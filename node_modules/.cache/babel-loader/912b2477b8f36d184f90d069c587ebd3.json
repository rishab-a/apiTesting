{"ast":null,"code":"import _defineProperty from\"/Users/ritu.s/aoi/apiTesting/apiTesting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/ritu.s/aoi/apiTesting/apiTesting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/ritu.s/aoi/apiTesting/apiTesting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/ritu.s/aoi/apiTesting/apiTesting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ritu.s/aoi/apiTesting/apiTesting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ritu.s/aoi/apiTesting/apiTesting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ritu.s/aoi/apiTesting/apiTesting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import Pusher from'pusher-js';import'./index.css';var RetrospectiveNew=/*#__PURE__*/function(_Component){_inherits(RetrospectiveNew,_Component);var _super=_createSuper(RetrospectiveNew);function RetrospectiveNew(props){var _this;_classCallCheck(this,RetrospectiveNew);_this=_super.call(this,props);_this.state={text:'',columnid:'',comments:[]};return _this;}_createClass(RetrospectiveNew,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({});var pusher=new Pusher('d10973f4aeb6ded3f904',{cluster:'ap2',encrypted:true});var channel=pusher.subscribe('retro-data');channel.bind('content',function(data){console.log(data);_this2.setState(_defineProperty({comments:[].concat(_toConsumableArray(_this2.state.comments),[_objectSpread({},data)])},data.columnid,''));});this.handleTextChange=this.handleTextChange.bind(this);}},{key:\"handleTextChange\",value:function handleTextChange(e){if(e.keyCode===13){var payload=_objectSpread(_objectSpread({},this.state),{},{columnid:e.target.id});axios.post('http://localhost:5000/Retrospective/New',payload);}else{this.setState(_defineProperty({},e.target.id,e.target.value));}}},{key:\"render\",value:function render(){var _this3=this;var columns=Array(5).fill(null);return/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},columns.map(function(c,i){return/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"div\",{className:\"chat\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:i,value:_this3.state[i],placeholder:\"type here...\",className:\"form-control\",onChange:_this3.handleTextChange,onKeyDown:_this3.handleTextChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"chatMessage\"},_this3.state.comments.map(function(chat){return chat[i]&&/*#__PURE__*/React.createElement(\"div\",{key:chat.id,className:\"box\"},/*#__PURE__*/React.createElement(\"p\",null,chat[i]));})));}),\";\");}}]);return RetrospectiveNew;}(Component);export default RetrospectiveNew;","map":{"version":3,"sources":["/Users/ritu.s/aoi/apiTesting/apiTesting/src/pages/retrospective/New/index.jsx"],"names":["React","Component","axios","Pusher","RetrospectiveNew","props","state","text","columnid","comments","setState","pusher","cluster","encrypted","channel","subscribe","bind","data","console","log","handleTextChange","e","keyCode","payload","target","id","post","value","columns","Array","fill","map","c","i","chat"],"mappings":"2kCACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CACA,MAAO,aAAP,C,GAIMC,CAAAA,gB,oHACJ,0BAAYC,KAAZ,CAAmB,kDACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,IAAI,CAAE,EADK,CAEXC,QAAQ,CAAE,EAFC,CAGXC,QAAQ,CAAE,EAHC,CAAb,CAFiB,aAOlB,C,0FAEmB,iBAElB,KAAKC,QAAL,CAAc,EAAd,EACA,GAAMC,CAAAA,MAAM,CAAG,GAAIR,CAAAA,MAAJ,CAAW,sBAAX,CAAmC,CAChDS,OAAO,CAAE,KADuC,CAEhDC,SAAS,CAAE,IAFqC,CAAnC,CAAf,CAIA,GAAMC,CAAAA,OAAO,CAAGH,MAAM,CAACI,SAAP,CAAiB,YAAjB,CAAhB,CACAD,OAAO,CAACE,IAAR,CAAa,SAAb,CAAwB,SAAAC,IAAI,CAAI,CAC5BC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACF,MAAI,CAACP,QAAL,kBAAgBD,QAAQ,8BAAM,MAAI,CAACH,KAAL,CAAWG,QAAjB,oBAA+BQ,IAA/B,GAAxB,EAAgEA,IAAI,CAACT,QAArE,CAAgF,EAAhF,GACD,CAHD,EAIA,KAAKY,gBAAL,CAAwB,KAAKA,gBAAL,CAAsBJ,IAAtB,CAA2B,IAA3B,CAAxB,CACD,C,0DAEgBK,C,CAAG,CAClB,GAAIA,CAAC,CAACC,OAAF,GAAc,EAAlB,CAAsB,CACpB,GAAMC,CAAAA,OAAO,gCACR,KAAKjB,KADG,MAEXE,QAAQ,CAAEa,CAAC,CAACG,MAAF,CAASC,EAFR,EAAb,CAIAvB,KAAK,CAACwB,IAAN,CAAW,yCAAX,CAAsDH,OAAtD,EACD,CAND,IAMO,CACL,KAAKb,QAAL,oBAAiBW,CAAC,CAACG,MAAF,CAASC,EAA1B,CAA+BJ,CAAC,CAACG,MAAF,CAASG,KAAxC,GACD,CACF,C,uCAEQ,iBACT,GAAMC,CAAAA,OAAO,CAAGC,KAAK,CAAC,CAAD,CAAL,CAASC,IAAT,CAAc,IAAd,CAAhB,CACE,mBACE,2BAAK,SAAS,CAAC,KAAf,EACEF,OAAO,CAACG,GAAR,CAAY,SAACC,CAAD,CAAIC,CAAJ,CAAU,CACtB,mBACA,2BAAK,SAAS,CAAC,QAAf,eACE,2BAAK,SAAS,CAAC,MAAf,eACE,6BACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAEA,CAFN,CAGE,KAAK,CAAE,MAAI,CAAC3B,KAAL,CAAW2B,CAAX,CAHT,CAIE,WAAW,CAAC,cAJd,CAKE,SAAS,CAAC,cALZ,CAME,QAAQ,CAAE,MAAI,CAACb,gBANjB,CAOE,SAAS,CAAE,MAAI,CAACA,gBAPlB,EADF,CADF,cAYE,2BAAK,SAAS,CAAC,aAAf,EACG,MAAI,CAACd,KAAL,CAAWG,QAAX,CAAoBsB,GAApB,CAAwB,SAAAG,IAAI,CAAI,CAC/B,MAAQA,CAAAA,IAAI,CAACD,CAAD,CAAJ,eACN,2BAAK,GAAG,CAAEC,IAAI,CAACT,EAAf,CAAmB,SAAS,CAAC,KAA7B,eACE,6BAAIS,IAAI,CAACD,CAAD,CAAR,CADF,CADF,CAKD,CANA,CADH,CAZF,CADA,CAwBD,CAzBC,CADF,KADF,CA8BD,C,8BArE4BhC,S,EAwE/B,cAAeG,CAAAA,gBAAf","sourcesContent":["\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Pusher from 'pusher-js';\nimport './index.css'\n\n\n\nclass RetrospectiveNew extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: '',\n      columnid: '',\n      comments: []\n    };\n  }\n\n  componentDidMount() {\n\n    this.setState({ });\n    const pusher = new Pusher('d10973f4aeb6ded3f904', {\n      cluster: 'ap2',\n      encrypted: true\n    });\n    const channel = pusher.subscribe('retro-data');\n    channel.bind('content', data => {\n        console.log(data);\n      this.setState({ comments: [...this.state.comments, {...data}], [data.columnid]: '' });\n    });\n    this.handleTextChange = this.handleTextChange.bind(this);\n  }\n\n  handleTextChange(e) {\n    if (e.keyCode === 13) {\n      const payload = {\n        ...this.state,\n        columnid: e.target.id\n      };\n      axios.post('http://localhost:5000/Retrospective/New', payload);\n    } else {\n      this.setState({ [e.target.id]: e.target.value });\n    }\n  }\n\n  render() {\n  const columns  =Array(5).fill(null);\n    return (\n      <div className=\"row\">\n      { columns.map((c, i) => {\n        return (\n        <div className=\"column\">\n          <div className=\"chat\">\n            <input\n              type=\"text\"\n              id={i}\n              value={this.state[i]}\n              placeholder=\"type here...\"\n              className=\"form-control\"\n              onChange={this.handleTextChange}\n              onKeyDown={this.handleTextChange}\n            />\n          </div>\n          <div className=\"chatMessage\">\n            {this.state.comments.map(chat => {\n              return (chat[i] &&\n                <div key={chat.id} className=\"box\">\n                  <p>{chat[i]}</p>\n                </div>\n              )\n            })}\n          </div>\n        </div>\n        );\n      })};\n      </div>\n    );\n  }\n}\n\nexport default RetrospectiveNew;"]},"metadata":{},"sourceType":"module"}